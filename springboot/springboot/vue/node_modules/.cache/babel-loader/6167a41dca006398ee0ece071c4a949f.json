{"remainingRequest":"D:\\code\\JAVA\\SpringBoot+VUE\\医院在线挂号系统\\springboot\\vue\\node_modules\\babel-loader\\lib\\index.js!D:\\code\\JAVA\\SpringBoot+VUE\\医院在线挂号系统\\springboot\\vue\\src\\router\\index.js","dependencies":[{"path":"D:\\code\\JAVA\\SpringBoot+VUE\\医院在线挂号系统\\springboot\\vue\\src\\router\\index.js","mtime":1698662406148},{"path":"D:\\code\\JAVA\\SpringBoot+VUE\\医院在线挂号系统\\springboot\\vue\\babel.config.js","mtime":1642682271570},{"path":"D:\\code\\JAVA\\SpringBoot+VUE\\医院在线挂号系统\\springboot\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1698897685620},{"path":"D:\\code\\JAVA\\SpringBoot+VUE\\医院在线挂号系统\\springboot\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1698897686204}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZVJvdXRlciBmcm9tICd2dWUtcm91dGVyJzsKaW1wb3J0IHN0b3JlIGZyb20gIkAvc3RvcmUiOwpWdWUudXNlKFZ1ZVJvdXRlcik7CnZhciByb3V0ZXMgPSBbewogIHBhdGg6ICcvbG9naW4nLAogIG5hbWU6ICdMb2dpbicsCiAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICByZXR1cm4gaW1wb3J0KCcuLi92aWV3cy9Mb2dpbi52dWUnKTsKICB9Cn0sIHsKICBwYXRoOiAnL3JlZ2lzdGVyJywKICBuYW1lOiAnUmVnaXN0ZXInLAogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgcmV0dXJuIGltcG9ydCgnLi4vdmlld3MvUmVnaXN0ZXIudnVlJyk7CiAgfQp9LCB7CiAgcGF0aDogJy80MDQnLAogIG5hbWU6ICc0MDQnLAogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgcmV0dXJuIGltcG9ydCgnLi4vdmlld3MvNDA0LnZ1ZScpOwogIH0KfV07CnZhciByb3V0ZXIgPSBuZXcgVnVlUm91dGVyKHsKICBtb2RlOiAnaGlzdG9yeScsCiAgcm91dGVzOiByb3V0ZXMKfSk7IC8vIOmHjee9rui3r+eUsQoKZXhwb3J0IHZhciByZXNldFJvdXRlciA9IGZ1bmN0aW9uIHJlc2V0Um91dGVyKCkgewogIHJvdXRlci5tYXRjaGVyID0gbmV3IFZ1ZVJvdXRlcih7CiAgICBtb2RlOiAnaGlzdG9yeScsCiAgICByb3V0ZXM6IHJvdXRlcwogIH0pOwp9OyAvLyDms6jmhI/vvJrliLfmlrDpobXpnaLkvJrlr7zoh7TpobXpnaLot6/nlLHph43nva4KCmV4cG9ydCB2YXIgc2V0Um91dGVzID0gZnVuY3Rpb24gc2V0Um91dGVzKCkgewogIHZhciBzdG9yZU1lbnVzID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oIm1lbnVzIik7CgogIGlmIChzdG9yZU1lbnVzKSB7CiAgICAvLyDmi7zoo4XliqjmgIHot6/nlLEKICAgIHZhciBtYW5hZ2VSb3V0ZSA9IHsKICAgICAgcGF0aDogJy8nLAogICAgICBuYW1lOiAnTWFuYWdlJywKICAgICAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICAgICAgcmV0dXJuIGltcG9ydCgnLi4vdmlld3MvTWFuYWdlLnZ1ZScpOwogICAgICB9LAogICAgICByZWRpcmVjdDogIi9ob21lIiwKICAgICAgY2hpbGRyZW46IFt7CiAgICAgICAgcGF0aDogJ3BlcnNvbicsCiAgICAgICAgbmFtZTogJ+S4quS6uuS/oeaBrycsCiAgICAgICAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICAgICAgICByZXR1cm4gaW1wb3J0KCcuLi92aWV3cy9QZXJzb24udnVlJyk7CiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAgcGF0aDogJ3Bhc3N3b3JkJywKICAgICAgICBuYW1lOiAn5L+u5pS55a+G56CBJywKICAgICAgICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgICAgICAgIHJldHVybiBpbXBvcnQoJy4uL3ZpZXdzL1Bhc3N3b3JkLnZ1ZScpOwogICAgICAgIH0KICAgICAgfSwgewogICAgICAgIHBhdGg6ICdkYXRlU2VsZWN0JywKICAgICAgICBuYW1lOiAnRGF0ZVNlbGVjdCcsCiAgICAgICAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICAgICAgICByZXR1cm4gaW1wb3J0KCcuLi92aWV3cy9wYXRpZW50L0RhdGVTZWxlY3QudnVlJyk7CiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAgcGF0aDogJ2RlYWwnLAogICAgICAgIG5hbWU6ICdEZWFsJywKICAgICAgICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgICAgICAgIHJldHVybiBpbXBvcnQoJy4uL3ZpZXdzL2RvY3Rvci9EZWFsLnZ1ZScpOwogICAgICAgIH0KICAgICAgfV0KICAgIH07CiAgICB2YXIgbWVudXMgPSBKU09OLnBhcnNlKHN0b3JlTWVudXMpOwogICAgbWVudXMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICBpZiAoaXRlbS5wYXRoICE9PSBudWxsKSB7CiAgICAgICAgdmFyIGl0ZW1NZW51ID0gewogICAgICAgICAgcGF0aDogaXRlbS5wYXRoLnJlcGxhY2UoIi8iLCAiIiksCiAgICAgICAgICBuYW1lOiBpdGVtLm5hbWUsCiAgICAgICAgICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgICAgICAgICAgcmV0dXJuIGltcG9ydCgnLi4vdmlld3MvJyArIGl0ZW0ucGFnZVBhdGggKyAnLnZ1ZScpOwogICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgbWFuYWdlUm91dGUuY2hpbGRyZW4ucHVzaChpdGVtTWVudSk7CiAgICAgIH0KICAgIH0pOyAvLyDojrflj5blvZPliY3nmoTot6/nlLHlr7nosaHlkI3np7DmlbDnu4QKCiAgICB2YXIgY3VycmVudFJvdXRlTmFtZXMgPSByb3V0ZXIuZ2V0Um91dGVzKCkubWFwKGZ1bmN0aW9uICh2KSB7CiAgICAgIHJldHVybiB2Lm5hbWU7CiAgICB9KTsKCiAgICBpZiAoIWN1cnJlbnRSb3V0ZU5hbWVzLmluY2x1ZGVzKCdNYW5hZ2UnKSkgewogICAgICAvLyDliqjmgIHmt7vliqDliLDnjrDlnKjnmoTot6/nlLHlr7nosaHkuK3ljrsKICAgICAgcm91dGVyLmFkZFJvdXRlKG1hbmFnZVJvdXRlKTsKICAgIH0KICB9Cn07IC8vIOavj+asoeWIt+aWsOmhtemdoumDveimgemHjeaWsOiuvue9rui3r+eUse+8jOWQpuWImei3r+eUseWwseS8muiiq+mHjee9rgoKc2V0Um91dGVzKCk7CnJvdXRlci5iZWZvcmVFYWNoKGZ1bmN0aW9uICh0bywgZnJvbSwgbmV4dCkgewogIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJjdXJyZW50UGF0aE5hbWUiLCB0by5uYW1lKTsgLy8g6K6+572u5b2T5YmN55qE6Lev55Sx5ZCN56ewCgogIHN0b3JlLmNvbW1pdCgic2V0UGF0aCIpOwoKICBpZiAoIXRvLm1hdGNoZWQubGVuZ3RoKSB7CiAgICB2YXIgbWVudXMgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgibWVudXMiKTsKCiAgICBpZiAoIW1lbnVzKSB7CiAgICAgIG5leHQoIi9sb2dpbiIpOwogICAgfSBlbHNlIHsKICAgICAgbmV4dCgiLzQwNCIpOwogICAgfQogIH0gZWxzZSB7CiAgICBuZXh0KCk7CiAgfQp9KTsKZXhwb3J0IGRlZmF1bHQgcm91dGVyOw=="},{"version":3,"sources":["D:/code/JAVA/SpringBoot+VUE/医院在线挂号系统/springboot/vue/src/router/index.js"],"names":["Vue","VueRouter","store","use","routes","path","name","component","router","mode","resetRouter","matcher","setRoutes","storeMenus","localStorage","getItem","manageRoute","redirect","children","menus","JSON","parse","forEach","item","itemMenu","replace","pagePath","push","currentRouteNames","getRoutes","map","v","includes","addRoute","beforeEach","to","from","next","setItem","commit","matched","length"],"mappings":";;;;;;;;;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AAEAF,GAAG,CAACG,GAAJ,CAAQF,SAAR;AAEA,IAAMG,MAAM,GAAG,CACX;AACIC,EAAAA,IAAI,EAAE,QADV;AAEIC,EAAAA,IAAI,EAAE,OAFV;AAGIC,EAAAA,SAAS,EAAE;AAAA,WAAM,OAAO,oBAAP,CAAN;AAAA;AAHf,CADW,EAMX;AACIF,EAAAA,IAAI,EAAE,WADV;AAEIC,EAAAA,IAAI,EAAE,UAFV;AAGIC,EAAAA,SAAS,EAAE;AAAA,WAAM,OAAO,uBAAP,CAAN;AAAA;AAHf,CANW,EAWX;AACIF,EAAAA,IAAI,EAAE,MADV;AAEIC,EAAAA,IAAI,EAAE,KAFV;AAGIC,EAAAA,SAAS,EAAE;AAAA,WAAM,OAAO,kBAAP,CAAN;AAAA;AAHf,CAXW,CAAf;AAkBA,IAAMC,MAAM,GAAG,IAAIP,SAAJ,CAAc;AACzBQ,EAAAA,IAAI,EAAE,SADmB;AAEzBL,EAAAA,MAAM,EAANA;AAFyB,CAAd,CAAf,C,CAKA;;AACA,OAAO,IAAMM,WAAW,GAAG,SAAdA,WAAc,GAAM;AAC7BF,EAAAA,MAAM,CAACG,OAAP,GAAiB,IAAIV,SAAJ,CAAc;AAC3BQ,IAAAA,IAAI,EAAE,SADqB;AAE3BL,IAAAA,MAAM,EAANA;AAF2B,GAAd,CAAjB;AAIH,CALM,C,CAOP;;AACA,OAAO,IAAMQ,SAAS,GAAG,SAAZA,SAAY,GAAM;AAC3B,MAAMC,UAAU,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAnB;;AACA,MAAIF,UAAJ,EAAgB;AACZ;AACA,QAAMG,WAAW,GAAG;AAChBX,MAAAA,IAAI,EAAE,GADU;AACLC,MAAAA,IAAI,EAAE,QADD;AACWC,MAAAA,SAAS,EAAE;AAAA,eAAM,OAAO,qBAAP,CAAN;AAAA,OADtB;AAC2DU,MAAAA,QAAQ,EAAE,OADrE;AAC8EC,MAAAA,QAAQ,EAAE,CACpG;AAACb,QAAAA,IAAI,EAAE,QAAP;AAAiBC,QAAAA,IAAI,EAAE,MAAvB;AAA+BC,QAAAA,SAAS,EAAE;AAAA,iBAAM,OAAO,qBAAP,CAAN;AAAA;AAA1C,OADoG,EAEpG;AAACF,QAAAA,IAAI,EAAE,UAAP;AAAmBC,QAAAA,IAAI,EAAE,MAAzB;AAAiCC,QAAAA,SAAS,EAAE;AAAA,iBAAM,OAAO,uBAAP,CAAN;AAAA;AAA5C,OAFoG,EAGpG;AAACF,QAAAA,IAAI,EAAE,YAAP;AAAqBC,QAAAA,IAAI,EAAE,YAA3B;AAAyCC,QAAAA,SAAS,EAAE;AAAA,iBAAM,OAAO,iCAAP,CAAN;AAAA;AAApD,OAHoG,EAIpG;AAACF,QAAAA,IAAI,EAAE,MAAP;AAAeC,QAAAA,IAAI,EAAE,MAArB;AAA6BC,QAAAA,SAAS,EAAE;AAAA,iBAAM,OAAO,0BAAP,CAAN;AAAA;AAAxC,OAJoG;AADxF,KAApB;AAQA,QAAMY,KAAK,GAAGC,IAAI,CAACC,KAAL,CAAWR,UAAX,CAAd;AACAM,IAAAA,KAAK,CAACG,OAAN,CAAc,UAAAC,IAAI,EAAI;AAClB,UAAIA,IAAI,CAAClB,IAAL,KAAc,IAAlB,EAAwB;AACpB,YAAImB,QAAQ,GAAG;AACXnB,UAAAA,IAAI,EAAEkB,IAAI,CAAClB,IAAL,CAAUoB,OAAV,CAAkB,GAAlB,EAAuB,EAAvB,CADK;AAEXnB,UAAAA,IAAI,EAAEiB,IAAI,CAACjB,IAFA;AAGXC,UAAAA,SAAS,EAAE;AAAA,mBAAM,OAAO,cAAcgB,IAAI,CAACG,QAAnB,GAA8B,MAArC,CAAN;AAAA;AAHA,SAAf;AAKAV,QAAAA,WAAW,CAACE,QAAZ,CAAqBS,IAArB,CAA0BH,QAA1B;AACH;AACJ,KATD,EAXY,CAsBZ;;AACA,QAAMI,iBAAiB,GAAGpB,MAAM,CAACqB,SAAP,GAAmBC,GAAnB,CAAuB,UAAAC,CAAC;AAAA,aAAIA,CAAC,CAACzB,IAAN;AAAA,KAAxB,CAA1B;;AACA,QAAI,CAACsB,iBAAiB,CAACI,QAAlB,CAA2B,QAA3B,CAAL,EAA2C;AACvC;AACAxB,MAAAA,MAAM,CAACyB,QAAP,CAAgBjB,WAAhB;AACH;AACJ;AACJ,CA/BM,C,CAiCP;;AACAJ,SAAS;AAETJ,MAAM,CAAC0B,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AAClCvB,EAAAA,YAAY,CAACwB,OAAb,CAAqB,iBAArB,EAAwCH,EAAE,CAAC7B,IAA3C,EADkC,CACgB;;AAClDJ,EAAAA,KAAK,CAACqC,MAAN,CAAa,SAAb;;AACA,MAAI,CAACJ,EAAE,CAACK,OAAH,CAAWC,MAAhB,EAAwB;AACpB,QAAMtB,KAAK,GAAGL,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;;AACA,QAAI,CAACI,KAAL,EAAY;AACRkB,MAAAA,IAAI,CAAC,QAAD,CAAJ;AACH,KAFD,MAEO;AACHA,MAAAA,IAAI,CAAC,MAAD,CAAJ;AACH;AACJ,GAPD,MAOO;AACHA,IAAAA,IAAI;AACP;AACJ,CAbD;AAeA,eAAe7B,MAAf","sourcesContent":["import Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\nimport store from \"@/store\";\r\n\r\nVue.use(VueRouter)\r\n\r\nconst routes = [\r\n    {\r\n        path: '/login',\r\n        name: 'Login',\r\n        component: () => import('../views/Login.vue')\r\n    },\r\n    {\r\n        path: '/register',\r\n        name: 'Register',\r\n        component: () => import('../views/Register.vue')\r\n    },\r\n    {\r\n        path: '/404',\r\n        name: '404',\r\n        component: () => import('../views/404.vue')\r\n    }\r\n]\r\n\r\nconst router = new VueRouter({\r\n    mode: 'history',\r\n    routes\r\n})\r\n\r\n// 重置路由\r\nexport const resetRouter = () => {\r\n    router.matcher = new VueRouter({\r\n        mode: 'history',\r\n        routes\r\n    })\r\n}\r\n\r\n// 注意：刷新页面会导致页面路由重置\r\nexport const setRoutes = () => {\r\n    const storeMenus = localStorage.getItem(\"menus\");\r\n    if (storeMenus) {\r\n        // 拼装动态路由\r\n        const manageRoute = {\r\n            path: '/', name: 'Manage', component: () => import('../views/Manage.vue'), redirect: \"/home\", children: [\r\n                {path: 'person', name: '个人信息', component: () => import('../views/Person.vue')},\r\n                {path: 'password', name: '修改密码', component: () => import('../views/Password.vue')},\r\n                {path: 'dateSelect', name: 'DateSelect', component: () => import('../views/patient/DateSelect.vue')},\r\n                {path: 'deal', name: 'Deal', component: () => import('../views/doctor/Deal.vue')},\r\n            ]\r\n        }\r\n        const menus = JSON.parse(storeMenus)\r\n        menus.forEach(item => {\r\n            if (item.path !== null) {\r\n                let itemMenu = {\r\n                    path: item.path.replace(\"/\", \"\"),\r\n                    name: item.name,\r\n                    component: () => import('../views/' + item.pagePath + '.vue')\r\n                }\r\n                manageRoute.children.push(itemMenu)\r\n            }\r\n        })\r\n\r\n        // 获取当前的路由对象名称数组\r\n        const currentRouteNames = router.getRoutes().map(v => v.name)\r\n        if (!currentRouteNames.includes('Manage')) {\r\n            // 动态添加到现在的路由对象中去\r\n            router.addRoute(manageRoute)\r\n        }\r\n    }\r\n}\r\n\r\n// 每次刷新页面都要重新设置路由，否则路由就会被重置\r\nsetRoutes()\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n    localStorage.setItem(\"currentPathName\", to.name)  // 设置当前的路由名称\r\n    store.commit(\"setPath\")\r\n    if (!to.matched.length) {\r\n        const menus = localStorage.getItem(\"menus\")\r\n        if (!menus) {\r\n            next(\"/login\")\r\n        } else {\r\n            next(\"/404\")\r\n        }\r\n    } else {\r\n        next()\r\n    }\r\n})\r\n\r\nexport default router\r\n"]}]}