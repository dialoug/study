{"remainingRequest":"E:\\FourUp\\软件开发2\\代码\\springboot\\vue\\node_modules\\babel-loader\\lib\\index.js!E:\\FourUp\\软件开发2\\代码\\springboot\\vue\\src\\router\\index.js","dependencies":[{"path":"E:\\FourUp\\软件开发2\\代码\\springboot\\vue\\src\\router\\index.js","mtime":1700122854546},{"path":"E:\\FourUp\\软件开发2\\代码\\springboot\\vue\\babel.config.js","mtime":1642682271570},{"path":"E:\\FourUp\\软件开发2\\代码\\springboot\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1698897685620},{"path":"E:\\FourUp\\软件开发2\\代码\\springboot\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1698897686204}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZVJvdXRlciBmcm9tICd2dWUtcm91dGVyJzsKaW1wb3J0IHN0b3JlIGZyb20gIkAvc3RvcmUiOwpWdWUudXNlKFZ1ZVJvdXRlcik7CnZhciByb3V0ZXMgPSBbewogIHBhdGg6ICcvbG9naW4nLAogIG5hbWU6ICdMb2dpbicsCiAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICByZXR1cm4gaW1wb3J0KCcuLi92aWV3cy9Mb2dpbi52dWUnKTsKICB9Cn0sIHsKICBwYXRoOiAnL3JlZ2lzdGVyJywKICBuYW1lOiAnUmVnaXN0ZXInLAogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgcmV0dXJuIGltcG9ydCgnLi4vdmlld3MvUmVnaXN0ZXIudnVlJyk7CiAgfQp9LCB7CiAgcGF0aDogJy80MDQnLAogIG5hbWU6ICc0MDQnLAogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgcmV0dXJuIGltcG9ydCgnLi4vdmlld3MvNDA0LnZ1ZScpOwogIH0KfV07CnZhciByb3V0ZXIgPSBuZXcgVnVlUm91dGVyKHsKICBtb2RlOiAnaGlzdG9yeScsCiAgcm91dGVzOiByb3V0ZXMKfSk7IC8vIOmHjee9rui3r+eUsQoKZXhwb3J0IHZhciByZXNldFJvdXRlciA9IGZ1bmN0aW9uIHJlc2V0Um91dGVyKCkgewogIHJvdXRlci5tYXRjaGVyID0gbmV3IFZ1ZVJvdXRlcih7CiAgICBtb2RlOiAnaGlzdG9yeScsCiAgICByb3V0ZXM6IHJvdXRlcwogIH0pOwp9OyAvLyDms6jmhI/vvJrliLfmlrDpobXpnaLkvJrlr7zoh7TpobXpnaLot6/nlLHph43nva4KCmV4cG9ydCB2YXIgc2V0Um91dGVzID0gZnVuY3Rpb24gc2V0Um91dGVzKCkgewogIHZhciBzdG9yZU1lbnVzID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oIm1lbnVzIik7CgogIGlmIChzdG9yZU1lbnVzKSB7CiAgICAvLyDlpoLmnpzlt7LnmbvlvZUKICAgIC8vIOaLvOijheWKqOaAgei3r+eUsQogICAgdmFyIG1hbmFnZVJvdXRlID0gewogICAgICBwYXRoOiAnLycsCiAgICAgIG5hbWU6ICdNYW5hZ2UnLAogICAgICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgICAgICByZXR1cm4gaW1wb3J0KCcuLi92aWV3cy9NYW5hZ2UudnVlJyk7CiAgICAgIH0sCiAgICAgIHJlZGlyZWN0OiAiL2hvbWUiLAogICAgICBjaGlsZHJlbjogW3sKICAgICAgICBwYXRoOiAncGVyc29uJywKICAgICAgICBuYW1lOiAn5Liq5Lq65L+h5oGvJywKICAgICAgICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgICAgICAgIHJldHVybiBpbXBvcnQoJy4uL3ZpZXdzL1BlcnNvbi52dWUnKTsKICAgICAgICB9CiAgICAgIH0sIHsKICAgICAgICBwYXRoOiAncGFzc3dvcmQnLAogICAgICAgIG5hbWU6ICfkv67mlLnlr4bnoIEnLAogICAgICAgIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgICAgICAgcmV0dXJuIGltcG9ydCgnLi4vdmlld3MvUGFzc3dvcmQudnVlJyk7CiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAgcGF0aDogJ2RhdGVTZWxlY3QnLAogICAgICAgIG5hbWU6ICdEYXRlU2VsZWN0JywKICAgICAgICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgICAgICAgIHJldHVybiBpbXBvcnQoJy4uL3ZpZXdzL3BhdGllbnQvRGF0ZVNlbGVjdC52dWUnKTsKICAgICAgICB9CiAgICAgIH0sIHsKICAgICAgICBwYXRoOiAnZGVhbCcsCiAgICAgICAgbmFtZTogJ0RlYWwnLAogICAgICAgIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgICAgICAgcmV0dXJuIGltcG9ydCgnLi4vdmlld3MvZG9jdG9yL0RlYWwudnVlJyk7CiAgICAgICAgfQogICAgICB9XQogICAgfTsgLy8g5qC55o2u6L+U5Zue5L+h5oGv5Yqo5oCB5ou86KOF5b2T5YmN55So5oi36KeS6Imy55qE6I+c5Y2V6Z2i5p2/CgogICAgdmFyIG1lbnVzID0gSlNPTi5wYXJzZShzdG9yZU1lbnVzKTsKICAgIG1lbnVzLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgaWYgKGl0ZW0ucGF0aCAhPT0gbnVsbCkgewogICAgICAgIHZhciBpdGVtTWVudSA9IHsKICAgICAgICAgIHBhdGg6IGl0ZW0ucGF0aC5yZXBsYWNlKCIvIiwgIiIpLAogICAgICAgICAgbmFtZTogaXRlbS5uYW1lLAogICAgICAgICAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICAgICAgICAgIHJldHVybiBpbXBvcnQoJy4uL3ZpZXdzLycgKyBpdGVtLnBhZ2VQYXRoICsgJy52dWUnKTsKICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIG1hbmFnZVJvdXRlLmNoaWxkcmVuLnB1c2goaXRlbU1lbnUpOyAvLyDmlL7lhaXot6/nlLEKICAgICAgfQogICAgfSk7IC8vIOiOt+WPluW9k+WJjeeahOi3r+eUseWvueixoeWQjeensOaVsOe7hAoKICAgIHZhciBjdXJyZW50Um91dGVOYW1lcyA9IHJvdXRlci5nZXRSb3V0ZXMoKS5tYXAoZnVuY3Rpb24gKHYpIHsKICAgICAgcmV0dXJuIHYubmFtZTsKICAgIH0pOwoKICAgIGlmICghY3VycmVudFJvdXRlTmFtZXMuaW5jbHVkZXMoJ01hbmFnZScpKSB7CiAgICAgIC8vIOWKqOaAgea3u+WKoOWIsOeOsOWcqOeahOi3r+eUseWvueixoeS4reWOuwogICAgICByb3V0ZXIuYWRkUm91dGUobWFuYWdlUm91dGUpOwogICAgfQogIH0KfTsgLy8g5q+P5qyh5Yi35paw6aG16Z2i6YO96KaB6YeN5paw6K6+572u6Lev55Sx77yM5ZCm5YiZ6Lev55Sx5bCx5Lya6KKr6YeN572uCgpzZXRSb3V0ZXMoKTsKcm91dGVyLmJlZm9yZUVhY2goZnVuY3Rpb24gKHRvLCBmcm9tLCBuZXh0KSB7CiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImN1cnJlbnRQYXRoTmFtZSIsIHRvLm5hbWUpOyAvLyDorr7nva7lvZPliY3nmoTot6/nlLHlkI3np7AKCiAgc3RvcmUuY29tbWl0KCJzZXRQYXRoIik7CgogIGlmICghdG8ubWF0Y2hlZC5sZW5ndGgpIHsKICAgIC8vIOi3r+eUsemVv+W6puS4uuepugogICAgdmFyIG1lbnVzID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oIm1lbnVzIik7CgogICAgaWYgKCFtZW51cykgewogICAgICBuZXh0KCIvbG9naW4iKTsgLy8g5b2T5YmN54q25oCB5pyq55m75b2VIOi3s+i9rOiHs+eZu+W9leeVjOmdogogICAgfSBlbHNlIHsKICAgICAgbmV4dCgiLzQwNCIpOwogICAgfQogIH0gZWxzZSB7CiAgICBuZXh0KCk7CiAgfQp9KTsKZXhwb3J0IGRlZmF1bHQgcm91dGVyOw=="},{"version":3,"sources":["E:/FourUp/软件开发2/代码/springboot/vue/src/router/index.js"],"names":["Vue","VueRouter","store","use","routes","path","name","component","router","mode","resetRouter","matcher","setRoutes","storeMenus","localStorage","getItem","manageRoute","redirect","children","menus","JSON","parse","forEach","item","itemMenu","replace","pagePath","push","currentRouteNames","getRoutes","map","v","includes","addRoute","beforeEach","to","from","next","setItem","commit","matched","length"],"mappings":"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","sourcesContent":["import Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\nimport store from \"@/store\";\r\n\r\nVue.use(VueRouter)\r\n\r\nconst routes = [\r\n    {\r\n        path: '/login',\r\n        name: 'Login',\r\n        component: () => import('../views/Login.vue')\r\n    },\r\n    {\r\n        path: '/register',\r\n        name: 'Register',\r\n        component: () => import('../views/Register.vue')\r\n    },\r\n    {\r\n        path: '/404',\r\n        name: '404',\r\n        component: () => import('../views/404.vue')\r\n    }\r\n]\r\n\r\nconst router = new VueRouter({\r\n    mode: 'history',\r\n    routes\r\n})\r\n\r\n// 重置路由\r\nexport const resetRouter = () => {\r\n    router.matcher = new VueRouter({\r\n        mode: 'history',\r\n        routes\r\n    })\r\n}\r\n\r\n// 注意：刷新页面会导致页面路由重置\r\nexport const setRoutes = () => {\r\n    const storeMenus = localStorage.getItem(\"menus\");\r\n    if (storeMenus) {  // 如果已登录\r\n        // 拼装动态路由\r\n        const manageRoute = {\r\n            path: '/', name: 'Manage', component: () => import('../views/Manage.vue'), redirect: \"/home\", children: [\r\n                {path: 'person', name: '个人信息', component: () => import('../views/Person.vue')},\r\n                {path: 'password', name: '修改密码', component: () => import('../views/Password.vue')},\r\n                {path: 'dateSelect', name: 'DateSelect', component: () => import('../views/patient/DateSelect.vue')},\r\n                {path: 'deal', name: 'Deal', component: () => import('../views/doctor/Deal.vue')},\r\n            ]\r\n        }\r\n        // 根据返回信息动态拼装当前用户角色的菜单面板\r\n        const menus = JSON.parse(storeMenus)\r\n        menus.forEach(item => {\r\n            if (item.path !== null) {\r\n                let itemMenu = {\r\n                    path: item.path.replace(\"/\", \"\"),\r\n                    name: item.name,\r\n                    component: () => import('../views/' + item.pagePath + '.vue')\r\n                }\r\n                manageRoute.children.push(itemMenu)  // 放入路由\r\n            }\r\n        })\r\n\r\n        // 获取当前的路由对象名称数组\r\n        const currentRouteNames = router.getRoutes().map(v => v.name)\r\n        if (!currentRouteNames.includes('Manage')) {\r\n            // 动态添加到现在的路由对象中去\r\n            router.addRoute(manageRoute)\r\n        }\r\n    }\r\n}\r\n\r\n// 每次刷新页面都要重新设置路由，否则路由就会被重置\r\nsetRoutes()\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n    localStorage.setItem(\"currentPathName\", to.name)  // 设置当前的路由名称\r\n    store.commit(\"setPath\")\r\n    if (!to.matched.length) {  // 路由长度为空\r\n        const menus = localStorage.getItem(\"menus\")\r\n        if (!menus) {\r\n            next(\"/login\")  // 当前状态未登录 跳转至登录界面\r\n        } else {\r\n            next(\"/404\")\r\n        }\r\n    } else {\r\n        next()\r\n    }\r\n})\r\n\r\nexport default router\r\n"]}]}